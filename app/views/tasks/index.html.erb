<% if notice.present? %>
  <div class="alert alert-success" role="alert">
    <%= notice %>
  </div>
<% end %>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="mb-0">TASKS</h3>
  <%= button_to new_task_path, method: :get, class: 'px-3 py-2 btn btn-sm border text-dark' do %>
    <i class="fa-solid fa-plus me-1"></i> Adicionar
  <% end %>
</div>

<table id="tasks" class="table table-striped table-bordered">
  <thead>
    <tr>
      <th class="col-2">Titulo</th>
      <th class="col-5">Descrição</th>
      <th class="col-1 text-center">Status</th>
      <th class="col-2 text-center">Data de Conclusão</th>
      <th class="col-2 text-center">Ações</th>
    </tr>
  </thead>
  <tbody>
    <% @tasks.each do |task| %>
    <tr id="<%= dom_id task %>">
      <td class="align-middle"><%= task.title %></td>
      <td class="align-middle"><%= task.description %></td>
      <td class="text-center align-middle"><%= atividade_status_icone(task) %></td>
      <td class="text-center align-middle"><%= formatar_data_dd_mm_aaaa_string(task.due_date) %></td>
      <td class="align-middle">
        <div class="d-flex gap-1 justify-content-center align-items-center">
          <%= link_to task, class: 'btn btn-sm border' do %>
            <i class="fa-solid fa-eye"></i>
          <% end %>
          <%= link_to edit_task_path(task), class: 'btn btn-sm border' do %>
            <i class="fa-solid fa-pen-to-square"></i>
          <% end %>
          <%= button_to task_path(task), method: :delete, class: 'btn btn-sm btn-danger' do %>
            <i class="fa-solid fa-trash"></i>
          <% end %>
        </div>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
